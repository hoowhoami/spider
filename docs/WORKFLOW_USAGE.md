# 工作流编辑器使用说明

## 执行结果查看

### 方法 1：右侧结果面板

1. 执行工作流后，右侧面板会自动切换到"Execution Results"
2. 结果面板显示：
   - 执行状态（成功/失败）
   - 已执行节点数
   - 结果数量
   - 详细结果数据

3. 结果面板功能：
   - **Formatted 标签**：格式化显示结果
   - **Raw JSON 标签**：显示原始 JSON 数据
   - **Download 按钮**：下载结果为 JSON 文件
   - **X 按钮**：关闭结果面板

### 方法 2：浏览器控制台

打开浏览器开发者工具（F12），在 Console 标签中可以看到详细的执行日志。

## 保存的工作流查看

### 查看已保存的工作流

1. 点击顶部工具栏的 **"Workflows"** 按钮
2. 右侧面板会显示所有已保存的工作流列表
3. 每个工作流显示：
   - 工作流名称
   - 描述（如果有）
   - 节点数量
   - 连接数量
   - 最后更新时间

### 工作流操作

对于每个已保存的工作流，你可以：

1. **加载工作流**：
   - 点击文件夹图标（📁）
   - 工作流会加载到画布上
   - 之前的工作流会被替换

2. **导出工作流**：
   - 点击下载图标（⬇️）
   - 工作流会下载为 JSON 文件
   - 可以分享给其他人或备份

3. **删除工作流**：
   - 点击垃圾桶图标（🗑️）
   - 确认后永久删除
   - 无法恢复，请谨慎操作

### 工作流存储位置

- 工作流保存在浏览器的 **localStorage** 中
- 存储键名：`workflows`
- 数据格式：JSON 数组

### 注意事项

1. **浏览器限制**：
   - localStorage 有大小限制（通常 5-10MB）
   - 清除浏览器数据会删除所有工作流
   - 建议定期导出重要的工作流

2. **跨浏览器**：
   - 不同浏览器的 localStorage 是独立的
   - Chrome 中保存的工作流在 Firefox 中看不到
   - 使用导出/导入功能在浏览器间迁移

3. **隐私模式**：
   - 隐私/无痕模式下的 localStorage 在关闭窗口后会被清除
   - 不建议在隐私模式下保存重要工作流

## 快速操作指南

### 保存工作流

```
1. 设计好工作流
2. 点击 "Save" 按钮
3. 工作流自动保存到 localStorage
4. 显示成功提示
```

### 加载工作流

```
1. 点击 "Workflows" 按钮
2. 在列表中找到要加载的工作流
3. 点击文件夹图标
4. 工作流加载到画布
```

### 导出工作流

```
方法 1：从列表导出
1. 点击 "Workflows" 按钮
2. 点击工作流的下载图标
3. JSON 文件自动下载

方法 2：导出当前工作流
1. 点击 "Export" 按钮
2. JSON 文件自动下载
```

### 导入工作流

```
1. 点击 "Import" 按钮
2. 选择 JSON 文件
3. 工作流加载到画布
```

### 查看执行结果

```
1. 执行工作流（点击 "Execute"）
2. 等待执行完成
3. 右侧自动显示结果面板
4. 查看格式化结果或原始 JSON
5. 可选：下载结果文件
```

## 常见问题

### Q: 为什么看不到我保存的工作流？

A: 可能的原因：

- 在不同的浏览器中打开
- 清除了浏览器数据
- 使用了隐私模式
- localStorage 被禁用

解决方法：

- 使用导出功能备份工作流
- 在同一浏览器中打开
- 检查浏览器设置

### Q: 执行结果在哪里？

A: 执行完成后：

- 右侧面板自动切换到结果视图
- 如果没有显示，点击结果面板的关闭按钮重新执行
- 检查浏览器控制台是否有错误

### Q: 如何备份所有工作流？

A: 两种方法：

1. 逐个导出每个工作流
2. 手动导出 localStorage 数据：
   ```javascript
   // 在浏览器控制台执行
   const workflows = localStorage.getItem('workflows');
   console.log(workflows);
   // 复制输出的 JSON 数据保存
   ```

### Q: 工作流文件可以编辑吗？

A: 可以：

1. 导出工作流为 JSON
2. 用文本编辑器打开
3. 修改节点配置或连接
4. 导入修改后的文件

注意：确保 JSON 格式正确，否则导入会失败

## 高级技巧

### 1. 批量管理工作流

```javascript
// 在浏览器控制台执行

// 查看所有工作流
const workflows = JSON.parse(localStorage.getItem('workflows') || '[]');
console.table(workflows.map(w => ({
  name: w.name,
  nodes: w.nodes.length,
  updated: w.updatedAt
})));

// 删除所有工作流
localStorage.removeItem('workflows');

// 导入工作流数组
const newWorkflows = [...]; // 你的工作流数组
localStorage.setItem('workflows', JSON.stringify(newWorkflows));
```

### 2. 工作流模板

创建常用的工作流模板：

1. 设计好工作流
2. 导出为 JSON
3. 重命名为有意义的名称（如 `template_news_crawler.json`）
4. 需要时导入使用

### 3. 结果数据处理

执行结果可以：

- 下载为 JSON 文件
- 在浏览器控制台中处理
- 复制粘贴到其他工具
- 用于下一个工作流的输入

## 未来功能（规划中）

- [ ] 云端同步工作流
- [ ] 工作流版本控制
- [ ] 协作编辑
- [ ] 工作流市场/模板库
- [ ] 实时执行日志
- [ ] 节点执行动画
- [ ] 执行历史记录
- [ ] 定时执行
- [ ] Webhook 触发
